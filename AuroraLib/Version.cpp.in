//--- Aurora/AuroraLib/Version.cpp ---------------------------------------------
//
//   This file is distributed under the University of Illinois Open Source
//   License. See LICENSE.TXT for details.
//
//------------------------------------------------------------------------------

#include "AuroraLib/Version.hpp"

#ifdef _OPENMP
# include <omp.h>
#endif

namespace Aurora
{
  /// Aurora version. This string is generated by CMake.
  const std::string version = "@AURORA_VERSION@";
  std::string buildString()
  {
    std::string result = "AuroraLib, Version " + version + ", ";
  #ifdef _OPENMP
    int numThreads = omp_get_max_threads();
    if (1 == numThreads)
      result += "OpenMP with 1 thread";
    else
      result += "OpenMP with " + std::to_string(numThreads) + " threads";
  #else
    result += "Single threaded version";
  #endif

  #if (AURORA_USE_LAPACK == 1)
    result += ", LAPACK";
  #endif

    return result;
  }
} // namespace Aurora

